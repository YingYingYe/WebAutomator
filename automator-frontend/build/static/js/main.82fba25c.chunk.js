(this["webpackJsonpautomator-frontend"]=this["webpackJsonpautomator-frontend"]||[]).push([[0],{256:function(e,t,a){e.exports=a(294)},293:function(e,t,a){},294:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),i=a.n(c),l=a(86),s=a(3),o=a(29),u=a(89),d=a(198),m=a(393),p=a(52),f=a(199),b=a(70),v=a(91),h=a(200),g=a.n(h),E=a(45),x=Object(v.b)({name:"theme",initialState:{themeMode:"light"},reducers:{setThemeMode:function(e,t){var a=t.payload;e.themeMode=a}}}),y=x.reducer,w=(x.actions.setThemeMode,Object(v.b)({name:"listItem",initialState:{listItem:0},reducers:{setListItem:function(e,t){var a=t.payload;e.listItem=a}}})),O=w.reducer,j=function(e){return e.listItem},k=w.actions.setListItem,C=Object(E.b)({listItem:O,theme:y}),S={key:"root",version:1,storage:"undefined"!==typeof window?g()("local"):{getItem:function(){return Promise.resolve(null)},setItem:function(e){return Promise.resolve(e)},removeItem:function(){return Promise.resolve()}},whitelist:["theme"]},P=Object(b.g)(S,C),D=Object(v.a)({reducer:P,middleware:function(e){return e({serializableCheck:{ignoredActions:[b.a,b.f,b.b,b.c,b.d,b.e]}})}}),F=a(146),A=a(99),I=a(6),N=a.n(I),R=a(12),L=a(5),z=a(390),_=a(305),U=a(174),M=a(125),V=a(175),B=a(150),$=a(71),q=a(100),T=a(26),W=a.n(T),J=function(){var e=Object(R.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.get("/api/dbpedia/search/".concat(t));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.message,inValid:!0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(R.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.get("/api/wikipedia/getimagefilenames/".concat(t));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.message,inValid:!0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(R.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.get("/api/wikimedia/getimageurl/".concat(t));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.message,inValid:!0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(R.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.get("/api/wikipedia/getperson/".concat(t));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.message,inValid:!0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(R.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.get("/api/wikipedia/getcoord/".concat(t));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.message,inValid:!0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(R.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.post("/api/cridb/save/create/thing",t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.message,inValid:!0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(R.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.post("/api/cridb/save/create/event",t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.message,inValid:!0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(R.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.post("/api/cridb/save/create/medium",t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.message,inValid:!0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(R.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.post("/api/cridb/save/overwrite/thing",t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.message,inValid:!0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(R.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.post("/api/cridb/save/overwrite/medium",t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.message,inValid:!0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(R.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.post("/api/cridb/search/thing",t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.message,inValid:!0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(R.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.post("/api/cridb/tags/thing",t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.message,inValid:!0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(R.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.post("/api/cridb/getdatabyid",t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.message,inValid:!0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(R.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.post("/api/cridb/deletedatabyid",t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.message,inValid:!0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),ie=a(17),le=function(){var e=Object(R.a)(N.a.mark((function e(t){var a,n,r,c,i,l,s,o,u,d,m,p,f,b,v,h,g,E,x;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={command:"save",record_type:"thing",data:{subtype:"person",name:he(t.keyword),status:"online"}},e.next=3,Q(a);case 3:return e.next=5,ae({query:he(t.keyword)});case 5:return n=e.sent,r=n.data,c=r.records[r.records.length-1].id,i={command:"save",record_type:"medium",data:{subtype:"article",name:he(t.keyword),content:t.article,status:"online",tags:[{id:c,type:"thing"}]}},l={command:"save",record_type:"thing",data:{subtype:"place",name:t.birthplace,status:"online"}},e.next=12,Q(l);case 12:return e.next=14,ae({query:t.birthplace});case 14:return s=e.sent.data.records[0].id,o={command:"save",record_type:"event",data:{subtype:"birth",date:t.birthdate,status:"online",tags:[{id:c,type:"thing"},{id:s,type:"thing"}]}},e.next=18,X(o);case 18:return u={command:"save",record_type:"thing",data:{subtype:"place",name:t.deathplace,status:"online"}},e.next=21,Q(u);case 21:return e.next=23,ae({query:t.deathplace});case 23:return d=e.sent.data.records[0].id,m={command:"save",record_type:"event",data:{subtype:"death",date:t.deathdate,status:"online",tags:[{id:c,type:"thing"},{id:d,type:"thing"}]}},e.next=27,X(m);case 27:return e.next=29,Z(i);case 29:for(p=t.pictures.trim().split("\n"),f=[],b=0;b<p.length;b++)v=/[^.]+$/.exec(p[b])[0],h=p[b].split("."+v)[0],g=h.split("/"),E=g[g.length-1],x={command:"save",record_type:"medium",url:p[b],data:{status:"online",subtype:"picture",name:E,nickname:h,ext:v,tags:[{id:c,type:"thing"}]}},f.push(Z(x));return e.next=34,Promise.all(f);case 34:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(R.a)(N.a.mark((function e(t){var a,n,r,c,i,l,s,o,u,d,m;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("overwrite action started!",t),a=t.cridbid,e.next=4,ne({id:a});case 4:return n=e.sent.data.records,r="",c="",i="",l="",s="",o="",u=[],d=[],m=[],n.forEach((function(e){m.push(re({recordtype:e.type,id:e.id}))})),e.next=17,Promise.all(m).then(function(){var e=Object(R.a)(N.a.mark((function e(n){var m,p,f,b,v,h,g,E,x,y,w,O,j,k,C;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.forEach((function(e){var t=e.data.records;"birth"===t.subtype&&(s=t.id),"death"===t.subtype&&(o=t.id),"picture"===t.subtype&&u.push({id:t.id,data:t.nickname}),"article"===t.subtype&&d.push({id:t.id,data:t.content})})),e.prev=1,""===s){e.next=9;break}return e.next=5,re({recordtype:"event",id:s});case 5:return i=e.sent.data.records.tags[1].id,e.next=8,re({recordtype:"thing",id:i});case 8:r=e.sent.data.records.name;case 9:if(""===o){e.next=16;break}return e.next=12,re({recordtype:"event",id:o});case 12:return l=e.sent.data.records.tags[1].id,e.next=15,re({recordtype:"thing",id:l});case 15:c=e.sent.data.records.name;case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(1);case 20:if(r===t.birthplace){e.next=24;break}return m={command:"save",record_type:"thing",id:i,data:{subtype:"place",status:"online",name:t.birthplace}},e.next=24,ee(m);case 24:if(c===t.deathplace){e.next=28;break}return p={command:"save",record_type:"thing",id:l,data:{subtype:"place",status:"online",name:t.deathplace}},e.next=28,ee(p);case 28:if(d[0].data===t.article){e.next=32;break}return f={command:"save",record_type:"medium",id:d[0].id,data:{subtype:"article",name:he(t.keyword),status:"online",content:t.article}},e.next=32,te(f);case 32:for(b=t.pictures.trim().split("\n"),v=Object(ie.a)(b),h=[].concat(u),g=0;g<b.length;g++)if(""!==b[g])for(E=0;E<u.length;E++)x=u[E],y=/[^.]+$/.exec(b[g])[0],w=b[g].split("."+y)[0],x.data.indexOf(w)>=0&&(v[g]=void 0,h[E]=void 0);else v[g]=void 0;return O=Object(ie.a)(v.filter((function(e){return void 0!==e}))),j=Object(ie.a)(h.filter((function(e){return void 0!==e}))),k=[],C=[],O.forEach((function(e){var n="";try{n=/[^.]+$/.exec(e)[0]}catch(i){}var r=e.split("."+n)[0],c={command:"save",record_type:"medium",url:e,data:{subtype:"picture",name:he(t.keyword),nickname:r,ext:n,status:"online",tags:[{id:a,type:"thing"}]}};k.push(Z(c))})),e.next=43,Promise.all(k);case 43:return j.forEach((function(e){C.push(ce({recordtype:"medium",id:e.id}))})),e.next=46,Promise.all(C);case 46:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}());case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(R.a)(N.a.mark((function e(t){var a,n,r,c,i,l,s,o,u,d,m;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("merge action started!",t),a=t.cridbid,e.next=4,ne({id:a});case 4:return n=e.sent.data.records,r="",c="",i="",l="",s="",o="",u=[],d=[],m=[],n.forEach((function(e){m.push(re({recordtype:e.type,id:e.id}))})),e.next=17,Promise.all(m).then(function(){var e=Object(R.a)(N.a.mark((function e(n){var m,p,f,b,v,h,g,E,x,y,w,O,j,k,C;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.forEach((function(e){var t=e.data.records;"birth"===t.subtype&&(s=t.id),"death"===t.subtype&&(o=t.id),"picture"===t.subtype&&u.push({id:t.id,data:t.nickname}),"article"===t.subtype&&d.push({id:t.id,data:t.content})})),e.prev=1,""===s){e.next=9;break}return e.next=5,re({recordtype:"event",id:s});case 5:return r=e.sent.data.records.tags[1].id,e.next=8,re({recordtype:"thing",id:r});case 8:i=e.sent.data.records.name;case 9:if(""===o){e.next=16;break}return e.next=12,re({recordtype:"event",id:o});case 12:return c=e.sent.data.records.tags[1].id,e.next=15,re({recordtype:"thing",id:c});case 15:l=e.sent.data.records.name;case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(1);case 20:if(console.log("cridb birthPlace =>",i),console.log("record birthplace =>",t.birthplace),i===t.birthplace){e.next=28;break}return m={command:"save",record_type:"thing",id:r,data:{subtype:"place",status:"online",name:t.birthplace}},e.next=26,ee(m);case 26:e.next=31;break;case 28:return p={command:"save",record_type:"thing",data:{subtype:"place",status:"online",name:t.birthplace}},e.next=31,Q(p);case 31:if(l===t.deathplace){e.next=37;break}return f={command:"save",record_type:"thing",id:c,data:{subtype:"place",status:"online",name:t.deathplace}},e.next=35,ee(f);case 35:e.next=40;break;case 37:return b={command:"save",record_type:"thing",data:{subtype:"place",status:"online",name:t.deathplace}},e.next=40,Q(b);case 40:if(!(d.length>0)){e.next=47;break}if(d[0].data===t.article){e.next=45;break}return v={command:"save",record_type:"medium",id:d[0].id,data:{subtype:"article",name:he(t.keyword),status:"online",content:t.article}},e.next=45,te(v);case 45:e.next=50;break;case 47:return h={command:"save",record_type:"medium",data:{subtype:"article",name:he(t.keyword),status:"online",content:t.article}},e.next=50,Z(h);case 50:for(g=t.pictures.trim().split("\n"),E=Object(ie.a)(g),x=0;x<g.length;x++)if(""!==g[x])for(y=0;y<u.length;y++)w=u[y],O=/[^.]+$/.exec(g[x])[0],j=g[x].split("."+O)[0],w.data.indexOf(j)>=0&&(E[x]=void 0);else E[x]=void 0;return k=Object(ie.a)(E.filter((function(e){return void 0!==e}))),C=[],k.forEach((function(e){var t="";try{t=/[^.]+$/.exec(e)[0]}catch(i){}var n=e.split("."+t)[0],r=n.split("/"),c={command:"save",record_type:"medium",url:e,data:{subtype:"picture",name:r[r.length-1],nickname:n,ext:t,status:"online",tags:[{id:a,type:"thing"}]}};C.push(Z(c))})),e.next=58,Promise.all(C);case 58:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}());case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(R.a)(N.a.mark((function e(t){var a,n,r,c,i,l,s,o,u,d,m,p,f;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(he(t.keyword)),a={command:"save",record_type:"thing",data:{subtype:"place",name:he(t.keyword),lat:t.latitude,long:t.longitude,status:"online"}},e.next=4,Q(a);case 4:return e.next=6,ae({query:he(t.keyword)});case 6:return n=e.sent,r=n.data,c=r.records[r.records.length-1].id,i={command:"save",record_type:"medium",data:{subtype:"article",name:he(t.keyword),content:t.article,status:"online",tags:[{id:c,type:"thing"}]}},e.next=12,Z(i);case 12:for(l=[],s=t.pictures.trim().split("\n"),o=0;o<s.length;o++)u=/[^.]+$/.exec(s[o])[0],d=s[o].split("."+u)[0],m=d.split("/"),p=m[m.length-1],f={command:"save",record_type:"medium",url:s[o],data:{status:"online",subtype:"picture",name:p,nickname:d,ext:u,tags:[{id:c,type:"thing"}]}},l.push(Z(f));return e.next=17,Promise.all(l);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(R.a)(N.a.mark((function e(t){var a,n,r,c,i,l,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.cridbid,e.next=3,re({recordtype:"thing",id:a});case 3:return n=e.sent.data.records,r={command:"save",record_type:"thing",id:n.id,data:{subtype:"place",name:he(t.keyword),lat:t.latitude,long:t.longitude,status:"online"}},e.next=7,ee(r);case 7:if(""===a){e.next=17;break}return e.next=10,ne({id:a});case 10:return c=e.sent.data.records,i=[],l=[],s=[],c.forEach((function(e){s.push(re({recordtype:e.type,id:e.id}))})),e.next=17,Promise.all(s).then(function(){var e=Object(R.a)(N.a.mark((function e(n){var r,c,s,o,u,d,m,p,f,b,v,h,g;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.forEach((function(e){var t=e.data.records;"picture"===t.subtype&&i.push({id:t.id,data:t.nickname}),"article"===t.subtype&&l.push({id:t.id,data:t.content})})),l[0].data===t.article){e.next=5;break}return r={command:"save",record_type:"medium",id:l[0].id,data:{subtype:"article",name:he(t.keyword),status:"online",content:t.article}},e.next=5,te(r);case 5:for(c=t.pictures.trim().split("\n"),s=Object(ie.a)(c),o=[].concat(i),u=0;u<c.length;u++)if(""!==c[u])for(d=0;d<i.length;d++)m=i[d],p=/[^.]+$/.exec(c[u])[0],f=c[u].split("."+p)[0],m.data.indexOf(f)>=0&&(s[u]=void 0,o[d]=void 0);else s[u]=void 0;return b=Object(ie.a)(s.filter((function(e){return void 0!==e}))),v=Object(ie.a)(o.filter((function(e){return void 0!==e}))),h=[],g=[],b.forEach((function(e){var t="";try{t=/[^.]+$/.exec(e)[0]}catch(i){}var n=e.split("."+t)[0],r=n.split("/"),c={command:"save",record_type:"medium",url:e,data:{subtype:"picture",name:r[r.length-1],nickname:n,ext:t,status:"online",tags:[{id:a,type:"thing"}]}};h.push(Z(c))})),e.next=16,Promise.all(h);case 16:return v.forEach((function(e){g.push(ce({recordtype:"medium",id:e.id}))})),e.next=19,Promise.all(g);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(R.a)(N.a.mark((function e(t){var a,n,r,c,i,l,s,o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.cridbid,e.prev=1,e.next=4,re({recordtype:"thing",id:a});case 4:return n=e.sent.data.records,r={command:"save",record_type:"thing",id:n.id,data:{subtype:"place",name:he(t.keyword),lat:t.latitude,long:t.longitude,status:"online"}},e.next=8,ee(r);case 8:e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(1),c={command:"save",record_type:"thing",data:{subtype:"place",name:he(t.keyword),lat:t.latitude,long:t.longitude,status:"online"}},e.next=15,Q(c);case 15:if(""===a){e.next=25;break}return e.next=18,ne({id:a});case 18:return i=e.sent.data.records,l=[],s=[],o=[],i.forEach((function(e){o.push(re({recordtype:e.type,id:e.id}))})),e.next=25,Promise.all(o).then(function(){var e=Object(R.a)(N.a.mark((function e(n){var r,c,i,o,u,d,m,p,f,b,v,h;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.forEach((function(e){var t=e.data.records;"picture"===t.subtype&&l.push({id:t.id,data:t.nickname}),"article"===t.subtype&&s.push({id:t.id,data:t.content})})),!(s.length>0)){e.next=8;break}if(s[0].data===t.article){e.next=6;break}return r={command:"save",record_type:"medium",id:s[0].id,data:{subtype:"article",name:he(t.keyword),status:"online",content:t.article}},e.next=6,te(r);case 6:e.next=11;break;case 8:return c={command:"save",record_type:"medium",data:{subtype:"article",name:he(t.keyword),status:"online",content:t.article}},e.next=11,Z(c);case 11:for(i=t.pictures.trim().split("\n"),o=Object(ie.a)(i),u=[].concat(l),d=0;d<i.length;d++)if(""!==i[d])for(m=0;m<l.length;m++)p=l[m],f=/[^.]+$/.exec(i[d])[0],b=i[d].split("."+f)[0],p.data.indexOf(b)>=0&&(o[d]=void 0,u[m]=void 0);else o[d]=void 0;return v=Object(ie.a)(o.filter((function(e){return void 0!==e}))),h=[],v.forEach((function(e){var t="";try{t=/[^.]+$/.exec(e)[0]}catch(i){}var n=e.split("."+t)[0],r=n.split("/"),c={command:"save",record_type:"medium",url:e,data:{subtype:"picture",name:r[r.length-1],nickname:n,ext:t,status:"online",tags:[{id:a,type:"thing"}]}};h.push(Z(c))})),e.next=20,Promise.all(h);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 25:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object(R.a)(N.a.mark((function e(t){var a,n,r,c,i,l,s,o,u,d,m,p,f,b,v;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={command:"save",record_type:"thing",data:{subtype:"artefact",name:he(t.keyword),status:"online"}},e.next=3,Q(a);case 3:return e.next=5,ae({query:ve(t.keyword)});case 5:return n=e.sent,r=n.data,c=r.records[r.records.length-1].id,i={command:"save",record_type:"medium",data:{subtype:"article",name:he(t.keyword),content:t.article,status:"online",tags:[{id:c,type:"thing"}]}},l=t.pictures.trim().split("\n"),s={command:"save",record_type:"event",data:{subtype:"start",date:t.startdate,status:"online",tags:[{id:c,type:"thing"}]}},e.next=13,X(s);case 13:return o={command:"save",record_type:"event",data:{subtype:"end",date:t.enddate,status:"online",tags:[{id:c,type:"thing"}]}},e.next=16,X(o);case 16:return e.next=18,Z(i);case 18:for(u=[],d=0;d<l.length;d++)m=/[^.]+$/.exec(l[d])[0],p=l[d].split("."+m)[0],f=p.split("/"),b=f[f.length-1],v={command:"save",record_type:"medium",url:l[d],data:{status:"online",subtype:"picture",name:b,nickname:p,ext:m,tags:[{id:c,type:"thing"}]}},u.push(Z(v));return e.next=22,Promise.all(u);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=Object(R.a)(N.a.mark((function e(t){var a,n,r,c,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.cridbid,e.next=3,ne({id:a});case 3:return n=e.sent.data.records,r=[],c=[],i=[],n.forEach((function(e){i.push(re({recordtype:e.type,id:e.id}))})),e.next=10,Promise.all(i).then(function(){var e=Object(R.a)(N.a.mark((function e(n){var i,l,s,o,u,d,m,p,f,b,v,h,g;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.forEach((function(e){var t=e.data.records;"picture"===t.subtype&&r.push({id:t.id,data:t.nickname}),"article"===t.subtype&&c.push({id:t.id,data:t.content})})),c[0].data===t.article){e.next=5;break}return i={command:"save",record_type:"medium",id:c[0].id,data:{subtype:"article",name:he(t.keyword),status:"online",content:t.article}},e.next=5,te(i);case 5:for(l=t.pictures.trim().split("\n"),s=Object(ie.a)(l),o=[].concat(r),u=0;u<l.length;u++)if(""!==l[u])for(d=0;d<r.length;d++)m=r[d],p=/[^.]+$/.exec(l[u])[0],f=l[u].split("."+p)[0],m.data.indexOf(f)>=0&&(s[u]=void 0,o[d]=void 0);else s[u]=void 0;return b=Object(ie.a)(s.filter((function(e){return void 0!==e}))),v=Object(ie.a)(o.filter((function(e){return void 0!==e}))),h=[],g=[],b.forEach((function(e){var t="";try{t=/[^.]+$/.exec(e)[0]}catch(i){}var n=e.split("."+t)[0],r=n.split("/"),c={command:"save",record_type:"medium",url:e,data:{subtype:"picture",name:r[r.length-1],nickname:n,ext:t,status:"online",tags:[{id:a,type:"thing"}]}};h.push(Z(c))})),e.next=16,Promise.all(h);case 16:return v.forEach((function(e){g.push(ce({recordtype:"medium",id:e.id}))})),e.next=19,Promise.all(g);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(R.a)(N.a.mark((function e(t){var a,n,r,c,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.cridbid,e.next=3,ne({id:a});case 3:return n=e.sent.data.records,r=[],c=[],i=[],n.forEach((function(e){i.push(re({recordtype:e.type,id:e.id}))})),e.next=10,Promise.all(i).then(function(){var e=Object(R.a)(N.a.mark((function e(n){var i,l,s,o,u,d,m,p,f,b,v,h;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.forEach((function(e){var t=e.data.records;"picture"===t.subtype&&r.push({id:t.id,data:t.nickname}),"article"===t.subtype&&c.push({id:t.id,data:t.content})})),!(c.length>0)){e.next=8;break}if(c[0].data===t.article){e.next=6;break}return i={command:"save",record_type:"medium",id:c[0].id,data:{subtype:"article",name:he(t.keyword),status:"online",content:t.article}},e.next=6,te(i);case 6:e.next=11;break;case 8:return l={command:"save",record_type:"medium",data:{subtype:"article",name:he(t.keyword),status:"online",content:t.article}},e.next=11,Z(l);case 11:for(s=t.pictures.trim().split("\n"),o=Object(ie.a)(s),u=[].concat(r),d=0;d<s.length;d++)if(""!==s[d])for(m=0;m<r.length;m++)p=r[m],f=/[^.]+$/.exec(s[d])[0],b=s[d].split("."+f)[0],p.data.indexOf(b)>=0&&(o[d]=void 0,u[m]=void 0);else o[d]=void 0;return v=Object(ie.a)(o.filter((function(e){return void 0!==e}))),h=[],v.forEach((function(e){var t="";try{t=/[^.]+$/.exec(e)[0]}catch(i){}var n=e.split("."+t)[0],r=n.split("/"),c={command:"save",record_type:"medium",url:e,data:{subtype:"picture",name:r[r.length-1],nickname:n,ext:t,status:"online",tags:[{id:a,type:"thing"}]}};h.push(Z(c))})),e.next=20,Promise.all(h);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=function(e){return e.replace(/\s\s+/g," ").trim().replaceAll(" ","_")},he=function(e){return ve(e).replaceAll("_"," ")},ge=a(204),Ee=a.n(ge),xe=a(77),ye=a(301),we=Object(d.a)((function(e){return{root:{display:"flex",width:"100%",minHeight:500,justifyContent:"center",alignItems:"center"}}})),Oe=function(){var e=we();return r.a.createElement("div",{className:e.root},r.a.createElement(ye.a,null))},je=function(){var e=Object(R.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.get("/db/savelist/".concat(t,"/get"));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.message,inValid:!0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=Object(R.a)(N.a.mark((function e(t,a){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.post("/db/savelist/".concat(a,"/save"),t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.message,inValid:!0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(R.a)(N.a.mark((function e(t,a){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.post("/db/savelist/".concat(a,"/update"),t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.message,inValid:!0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),Se=function(){var e=Object(R.a)(N.a.mark((function e(t,a){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.get("/db/savelist/".concat(a,"/delete/").concat(t));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.message,inValid:!0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),Pe=a(57),De=a(9),Fe=a(418),Ae=a(388),Ie=a(420),Ne=a(421),Re=a(408),Le=a(422),ze=a(403),_e=a(397),Ue=a(410),Me=a(426),Ve=a(412),Be=a(55),$e=a.n(Be),qe=["children","onClose"],Te=Object(De.a)(Fe.a)((function(e){var t=e.theme;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}})),We=function(e){var t=e.children,a=e.onClose,n=Object(Pe.a)(e,qe);return r.a.createElement(Ae.a,Object.assign({sx:{m:0,p:2}},n),t,a?r.a.createElement(Ie.a,{"aria-label":"close",onClick:a,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}}},r.a.createElement($e.a,null)):null)},Je=function(e){var t=Object(n.useState)(!1),a=Object(L.a)(t,2),c=a[0],i=a[1],l=Object(n.useState)(""),s=Object(L.a)(l,2),o=s[0],u=s[1],d=function(){e.setIsOpen(!1)};return r.a.createElement("div",null,r.a.createElement(Te,{onClose:d,"aria-labelledby":"customized-dialog-title",open:e.isOpen},r.a.createElement(We,{id:"customized-dialog-title",onClose:d},"Duplicates"),r.a.createElement(Ne.a,{dividers:!0,style:{width:"350px"}},r.a.createElement(Re.a,{container:!0,className:"px-1"},r.a.createElement(Re.a,{item:!0,xs:12,md:12},r.a.createElement(Le.a,Object.assign({},e.FormElementProps,{className:"mt-4 mb-4"}),r.a.createElement(ze.a,{id:"Save Action"},"Save Action"),r.a.createElement(_e.a,{label:"Save Action",value:e.data.saveAction,onChange:function(t){var a;"create"===(a=t.target.value)?(i(!1),u("")):("overwrite"===a||"merge"===a)&&i(!0),e.func.setSaveAction(t.target.value)}},r.a.createElement(Ue.a,{value:"create"},"Create"),r.a.createElement(Ue.a,{value:"overwrite"},"Overwrite"),r.a.createElement(Ue.a,{value:"merge"},"Merge"))))),r.a.createElement(r.a.Fragment,null,c?r.a.createElement(Re.a,{container:!0,className:"px-1 py-3"},r.a.createElement(Re.a,{item:!0,xs:12,md:12},r.a.createElement(Le.a,e.FormElementProps,r.a.createElement(ze.a,{id:"duplcatedRecords"},"Select a duplicated record"),r.a.createElement(_e.a,{label:"Duplicated Records",value:o,onChange:function(e){u(e.target.value)}},e.duplicatedRec.map((function(e,t){return r.a.createElement(Ue.a,{value:e.id,key:t},e.name)})))))):r.a.createElement(r.a.Fragment,null))),r.a.createElement(Me.a,null,r.a.createElement(Re.a,{container:!0},r.a.createElement(Re.a,{item:!0,xs:6,md:6},r.a.createElement(Ve.a,{autoFocus:!0,onClick:function(){"create"!==e.data.saveAction&&""===o||(e.setIsOpen(!1),e.saveClose(e.data.saveAction,o,"success"))}},"Add to Save List")),r.a.createElement(Re.a,{item:!0,xs:6,md:6,style:{textAlign:"right"}},r.a.createElement(Ve.a,{onClick:function(){"create"!==e.data.saveAction&&""===o||(e.setIsOpen(!1),e.func.saveForm(o))}},"Save to CRIDB"))))))},Ke=function(e){var t=e.func,a=e.data,c=e.FormElementProps,i=Object(xe.b)().enqueueSnackbar,l=Object(n.useState)(!1),s=Object(L.a)(l,2),o=s[0],u=s[1],d=Object(n.useState)([]),m=Object(L.a)(d,2),p=m[0],f=m[1],b=function(){var e=Object(R.a)(N.a.mark((function e(t,n,r){var c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=[a.keyword,a.person.birthPlace,a.person.deathPlace,a.person.birthDate,a.person.deathDate,a.person.article,a.person.downloadableImageURL,t,n],e.prev=1,e.next=4,ke(c,"person").then((function(e){200===e.status&&i("The current record is successfully saved to Save List!",{variant:r})}));case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,a,n){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{variant:"h6",align:"left",style:{paddingBottom:"1.25rem"}},"Result"),r.a.createElement(z.a,{container:!0,spacing:1},r.a.createElement(r.a.Fragment,null,a.personLoading?r.a.createElement(Oe,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{container:!0,spacing:5},r.a.createElement(z.a,{item:!0,xs:6,md:6},r.a.createElement(U.a,Object.assign({},c,{label:"Birth Date",value:a.person.birthDate,onChange:function(e){t.setPersonForm("birthDate",e.target.value)}}))),r.a.createElement(z.a,{item:!0,xs:6,md:6},r.a.createElement(U.a,Object.assign({},c,{label:"Death Date",value:a.person.deathDate,onChange:function(e){return t.setPersonForm("deathDate",e.target.value)}})))),r.a.createElement(U.a,Object.assign({},c,{label:"Birth Place",value:a.person.birthPlace,onChange:function(e){return t.setPersonForm("birthPlace",e.target.value)}})),r.a.createElement(U.a,Object.assign({},c,{label:"Death Place",value:a.person.deathPlace,onChange:function(e){return t.setPersonForm("deathPlace",e.target.value)}})),r.a.createElement(U.a,Object.assign({},c,{label:"Article",multiline:!0,rows:8,value:a.person.article,onChange:function(e){return t.setPersonForm("article",e.target.value)}})),r.a.createElement(U.a,Object.assign({},c,{label:"Downloadable Image URL",multiline:!0,rows:8,value:a.person.downloadableImageURL,onChange:function(e){return t.setPersonForm("downloadableImageURL",e.target.value)}})))),r.a.createElement(z.a,{container:!0,className:"mt-4"},r.a.createElement(z.a,{item:!0,xs:8,md:8}),r.a.createElement(z.a,{item:!0,xs:4,md:4,align:"right"},r.a.createElement(q.a,{variant:"outlined",color:"primary",size:"large",onClick:Object(R.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae({query:ve(a.keyword)}).then((function(e){var t=e.data.records.filter((function(e){return"person"===e.subtype}));t.length>0&&f(t)}));case 3:u(!0),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})))},"Compare")))),r.a.createElement(Je,{FormElementProps:c,isOpen:o,duplicatedRec:p,setIsOpen:u,saveClose:b,data:a,func:t}))};function Ge(e){return r.a.createElement(xe.a,{maxSnack:3},r.a.createElement(Ke,e))}var He=["children","onClose"],Ye=Object(De.a)(Fe.a)((function(e){var t=e.theme;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}})),Qe=function(e){var t=e.children,a=e.onClose,n=Object(Pe.a)(e,He);return r.a.createElement(Ae.a,Object.assign({sx:{m:0,p:2}},n),t,a?r.a.createElement(Ie.a,{"aria-label":"close",onClick:a,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}}},r.a.createElement($e.a,null)):null)},Xe=function(e){var t=Object(n.useState)(!1),a=Object(L.a)(t,2),c=a[0],i=a[1],l=Object(n.useState)(""),s=Object(L.a)(l,2),o=s[0],u=s[1],d=function(){e.setIsOpen(!1)};return r.a.createElement("div",null,r.a.createElement(Ye,{onClose:d,"aria-labelledby":"customized-dialog-title",open:e.isOpen},r.a.createElement(Qe,{id:"customized-dialog-title",onClose:d},"Duplicates"),r.a.createElement(Ne.a,{dividers:!0,style:{width:"350px"}},r.a.createElement(Re.a,{container:!0,className:"px-1"},r.a.createElement(Re.a,{item:!0,xs:12,md:12},r.a.createElement(Le.a,Object.assign({},e.FormElementProps,{className:"mt-4 mb-4"}),r.a.createElement(ze.a,{id:"Save Action"},"Save Action"),r.a.createElement(_e.a,{label:"Save Action",value:e.data.saveAction,onChange:function(t){var a;"create"===(a=t.target.value)?(i(!1),u("")):("overwrite"===a||"merge"===a)&&i(!0),e.func.setSaveAction(t.target.value)}},r.a.createElement(Ue.a,{value:"create"},"Create"),r.a.createElement(Ue.a,{value:"overwrite"},"Overwrite"),r.a.createElement(Ue.a,{value:"merge"},"Merge"))))),r.a.createElement(r.a.Fragment,null,c?r.a.createElement(Re.a,{container:!0,className:"px-1 py-3"},r.a.createElement(Re.a,{item:!0,xs:12,md:12},r.a.createElement(Le.a,e.FormElementProps,r.a.createElement(ze.a,{id:"duplcatedRecords"},"Select a duplicated record"),r.a.createElement(_e.a,{label:"Duplicated Records",value:o,onChange:function(e){u(e.target.value)}},e.duplicatedRec.map((function(e,t){return r.a.createElement(Ue.a,{value:e.id,key:t},e.name)})))))):r.a.createElement(r.a.Fragment,null))),r.a.createElement(Me.a,null,r.a.createElement(Re.a,{container:!0},r.a.createElement(Re.a,{item:!0,xs:6,md:6},r.a.createElement(Ve.a,{autoFocus:!0,onClick:function(){"create"!==e.data.saveAction&&""===o||(e.setIsOpen(!1),e.saveClose(e.data.saveAction,o,"success"))}},"Add to Save List")),r.a.createElement(Re.a,{item:!0,xs:6,md:6,style:{textAlign:"right"}},r.a.createElement(Ve.a,{onClick:function(){"create"!==e.data.saveAction&&""===o||(e.setIsOpen(!1),e.func.saveForm(o))}},"Save to CRIDB"))))))},Ze=function(e){var t=e.func,a=e.data,c=e.FormElementProps,i=Object(xe.b)().enqueueSnackbar,l=Object(n.useState)(!1),s=Object(L.a)(l,2),o=s[0],u=s[1],d=Object(n.useState)([]),m=Object(L.a)(d,2),p=m[0],f=m[1],b=function(){var e=Object(R.a)(N.a.mark((function e(t,n,r){var c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=[a.keyword,a.place.latitude,a.place.longitude,a.place.article,a.place.downloadableImageURL,t,n],e.prev=1,e.next=4,ke(c,"place").then((function(e){200===e.status&&i("The current record is successfully saved to Save List!",{variant:r})}));case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,a,n){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{variant:"h6",align:"left",style:{paddingBottom:"1.25rem"}},"Result"),r.a.createElement(z.a,{container:!0,spacing:1},r.a.createElement(r.a.Fragment,null,a.placeLoading?r.a.createElement(Oe,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{container:!0,spacing:5},r.a.createElement(z.a,{item:!0,xs:6,md:6},r.a.createElement(U.a,Object.assign({},c,{label:"Latitude",value:a.place.latitude,onChange:function(e){return t.setPlaceForm("latitude",e.target.value)}}))),r.a.createElement(z.a,{item:!0,xs:6,md:6},r.a.createElement(U.a,Object.assign({},c,{label:"Longitude",value:a.place.longitude,onChange:function(e){return t.setPlaceForm("longitude",e.target.value)}})))),r.a.createElement(U.a,Object.assign({},c,{label:"Article",multiline:!0,rows:8,value:a.place.article,onChange:function(e){return t.setPlaceForm("article",e.target.value)}})),r.a.createElement(U.a,Object.assign({},c,{label:"Downloadable Image URL",multiline:!0,rows:8,value:a.place.downloadableImageURL,onChange:function(e){return t.setPlaceForm("downloadableImageURL",e.target.value)}})))),r.a.createElement(z.a,{container:!0,className:"mt-4"},r.a.createElement(z.a,{item:!0,xs:8,md:8}),r.a.createElement(z.a,{item:!0,xs:4,md:4,align:"right"},r.a.createElement(q.a,{variant:"outlined",color:"primary",size:"large",className:"mt-2",onClick:Object(R.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae({query:ve(a.keyword)}).then((function(e){var t=e.data.records.filter((function(e){return"place"===e.subtype}));t.length>0&&f(t)}));case 3:u(!0),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})))},"Compare")))),r.a.createElement(Xe,{FormElementProps:c,isOpen:o,duplicatedRec:p,setIsOpen:u,saveClose:b,data:a,func:t}))};function et(e){return r.a.createElement(xe.a,{maxSnack:3},r.a.createElement(Ze,e))}var tt=["children","onClose"],at=Object(De.a)(Fe.a)((function(e){var t=e.theme;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}})),nt=function(e){var t=e.children,a=e.onClose,n=Object(Pe.a)(e,tt);return r.a.createElement(Ae.a,Object.assign({sx:{m:0,p:2}},n),t,a?r.a.createElement(Ie.a,{"aria-label":"close",onClick:a,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}}},r.a.createElement($e.a,null)):null)},rt=function(e){var t=Object(n.useState)(!1),a=Object(L.a)(t,2),c=a[0],i=a[1],l=Object(n.useState)(""),s=Object(L.a)(l,2),o=s[0],u=s[1],d=function(){e.setIsOpen(!1)};return r.a.createElement("div",null,r.a.createElement(at,{onClose:d,"aria-labelledby":"customized-dialog-title",open:e.isOpen},r.a.createElement(nt,{id:"customized-dialog-title",onClose:d},"Duplicates"),r.a.createElement(Ne.a,{dividers:!0,style:{width:"350px"}},r.a.createElement(Re.a,{container:!0,className:"px-1"},r.a.createElement(Re.a,{item:!0,xs:12,md:12},r.a.createElement(Le.a,Object.assign({},e.FormElementProps,{className:"mt-4 mb-4"}),r.a.createElement(ze.a,{id:"Save Action"},"Save Action"),r.a.createElement(_e.a,{label:"Save Action",value:e.data.saveAction,onChange:function(t){var a;"create"===(a=t.target.value)?(i(!1),u("")):("overwrite"===a||"merge"===a)&&i(!0),e.func.setSaveAction(t.target.value)}},r.a.createElement(Ue.a,{value:"create"},"Create"),r.a.createElement(Ue.a,{value:"overwrite"},"Overwrite"),r.a.createElement(Ue.a,{value:"merge"},"Merge"))))),r.a.createElement(r.a.Fragment,null,c?r.a.createElement(Re.a,{container:!0,className:"px-1 py-3"},r.a.createElement(Re.a,{item:!0,xs:12,md:12},r.a.createElement(Le.a,e.FormElementProps,r.a.createElement(ze.a,{id:"duplcatedRecords"},"Select a duplicated record"),r.a.createElement(_e.a,{label:"Duplicated Records",value:o,onChange:function(e){u(e.target.value)}},e.duplicatedRec.map((function(e,t){return r.a.createElement(Ue.a,{value:e.id,key:t},e.name)})))))):r.a.createElement(r.a.Fragment,null))),r.a.createElement(Me.a,null,r.a.createElement(Re.a,{container:!0},r.a.createElement(Re.a,{item:!0,xs:6,md:6},r.a.createElement(Ve.a,{autoFocus:!0,onClick:function(){"create"!==e.data.saveAction&&""===o||(e.setIsOpen(!1),e.saveClose(e.data.saveAction,o,"success"))}},"Add to Save List")),r.a.createElement(Re.a,{item:!0,xs:6,md:6,style:{textAlign:"right"}},r.a.createElement(Ve.a,{onClick:function(){"create"!==e.data.saveAction&&""===o||(e.setIsOpen(!1),e.func.saveForm(o))}},"Save to CRIDB"))))))},ct=function(e){var t=e.func,a=e.data,c=e.FormElementProps,i=Object(xe.b)().enqueueSnackbar,l=Object(n.useState)(!1),s=Object(L.a)(l,2),o=s[0],u=s[1],d=Object(n.useState)([]),m=Object(L.a)(d,2),p=m[0],f=m[1],b=function(){var e=Object(R.a)(N.a.mark((function e(t,n,r){var c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=[a.keyword,a.artefact.startdate,a.artefact.enddate,a.artefact.article,a.artefact.downloadableImageURL,t,n],e.prev=1,e.next=4,ke(c,"artefact").then((function(e){200===e.status&&i("The current record is successfully saved to Save List!",{variant:r})}));case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,a,n){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{variant:"h6",align:"left",style:{paddingBottom:"1.25rem"}},"Result"),r.a.createElement(z.a,{container:!0,spacing:1},r.a.createElement(r.a.Fragment,null,a.artefactLoading?r.a.createElement(Oe,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{container:!0,spacing:5},r.a.createElement(z.a,{item:!0,xs:6,md:6},r.a.createElement(U.a,Object.assign({},c,{label:"Start Date",value:a.artefact.startDate,onChange:function(e){return t.setArtefactForm("startDate",e.target.value)}}))),r.a.createElement(z.a,{item:!0,xs:6,md:6},r.a.createElement(U.a,Object.assign({},c,{label:"End Date",value:a.artefact.endDate,onChange:function(e){return t.setArtefactForm("endDate",e.target.value)}})))),r.a.createElement(U.a,Object.assign({},c,{label:"Article",multiline:!0,rows:8,value:a.artefact.article,onChange:function(e){return t.setArtefactForm("article",e.target.value)}})),r.a.createElement(U.a,Object.assign({},c,{label:"Downloadable Image URL",multiline:!0,rows:8,value:a.artefact.downloadableImageURL,onChange:function(e){return t.setArtefactForm("downloadableImageURL",e.target.value)}})))),r.a.createElement(z.a,{container:!0,className:"mt-4"},r.a.createElement(z.a,{item:!0,xs:8,md:8}),r.a.createElement(z.a,{item:!0,xs:4,md:4,align:"right"},r.a.createElement(q.a,{variant:"outlined",color:"primary",size:"large",className:"mt-2",onClick:Object(R.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae({query:ve(a.keyword)}).then((function(e){var t=e.data.records.filter((function(e){return"artefact"===e.subtype}));t.length>0&&f(t)}));case 3:u(!0),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})))},"Compare")))),r.a.createElement(rt,{FormElementProps:c,isOpen:o,duplicatedRec:p,setIsOpen:u,saveClose:b,data:a,func:t}))};function it(e){return r.a.createElement(xe.a,{maxSnack:3},r.a.createElement(ct,e))}var lt={fullWidth:!0,variant:"standard",size:"medium",className:"mb-4"},st=function(){Object(p.b)()(k(0));var e,t=Object(n.useState)("Etna, California"),a=Object(L.a)(t,2),c=a[0],i=a[1],l=Object(n.useState)("place"),o=Object(L.a)(l,2),u=o[0],d=o[1],m=Object(n.useState)("create"),f=Object(L.a)(m,2),b=f[0],v=f[1],h=Object(n.useState)(!1),g=Object(L.a)(h,2),E=g[0],x=g[1],y=Object(n.useState)(!1),w=Object(L.a)(y,2),O=w[0],j=w[1],C=Object(n.useState)(!1),S=Object(L.a)(C,2),P=S[0],D=S[1],F=Object(n.useState)(!1),I=Object(L.a)(F,2),T=I[0],W=I[1],Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=Ee()(e);return a.format(t)},X=Object(n.useState)({birthDate:"",deathDate:"",birthPlace:"",deathPlace:"",article:"",downloadableImageURL:""}),Z=Object(L.a)(X,2),ee=Z[0],te=Z[1],ae=Object(n.useState)({latitude:"",longitude:"",article:"",downloadableImageURL:""}),ne=Object(L.a)(ae,2),re=ne[0],ce=ne[1],ie=Object(n.useState)({startDate:"",endDate:"",article:"",downloadableImageURL:""}),he=Object(L.a)(ie,2),ge=he[0],xe=he[1],ye=function(){var e=Object(R.a)(N.a.mark((function e(t){var a,n,r,i,l,s,o,u,d,m,p,f,b,v;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(ve(c));case 2:if(!(a=e.sent).inValid){e.next=6;break}return x(!0),e.abrupt("return");case 6:n=a.data,r=n.birthDate,i=n.deathDate,l=n.comment,s="";try{l.forEach((function(e){"en"===e.lang&&""===s&&(s=e.value)}))}catch(h){}try{o=Q(r[0].value,"MM/DD/yyyy")}catch(t){o=""}try{u=Q(i[0].value,"MM/DD/yyyy")}catch(t){u=""}return e.next=13,H(ve(c));case 13:d=e.sent;try{m=d.data.result.birthPlace}catch(t){m=""}try{p=d.data.result.deathPlace}catch(t){p=""}return f="",e.prev=17,e.next=20,K(c);case 20:return b=e.sent.data.result,v=[],b.forEach((function(e){v.push(G(e))})),e.next=25,Promise.all(v);case 25:e.sent.forEach((function(e){var t=e.data.result;f+=t+"\n"})),e.next=32;break;case 29:e.prev=29,e.t0=e.catch(17),f="";case 32:te({birthDate:o,deathDate:u,birthPlace:m,deathPlace:p,article:s,downloadableImageURL:f});case 33:case"end":return e.stop()}}),e,null,[[17,29]])})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=Object(R.a)(N.a.mark((function e(t){var a,n,r,i,l,s,o,u,d;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(ve(c));case 2:if(!(a=e.sent).inValid){e.next=6;break}return x(!0),e.abrupt("return");case 6:return n=a.data.comment,r="",n.forEach((function(e){"en"===e.lang&&""===r&&(r=e.value)})),e.next=11,Y(ve(c));case 11:return i=e.sent.data.result,l=i.lat,s=i.lon,o="",e.prev=15,e.next=18,K(c);case 18:return u=e.sent.data.result,d=[],u.forEach((function(e){d.push(G(e))})),e.next=23,Promise.all(d);case 23:e.sent.forEach((function(e){var t=e.data.result;o+=t+"\n"})),e.next=30;break;case 27:e.prev=27,e.t0=e.catch(15),o="";case 30:ce({latitude:l,longitude:s,article:r,downloadableImageURL:o});case 31:case"end":return e.stop()}}),e,null,[[15,27]])})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(R.a)(N.a.mark((function e(t){var a,n,r,i,l,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(c);case 2:if(!(a=e.sent).inValid){e.next=6;break}return x(!0),e.abrupt("return");case 6:return n=a.data.comment,r="",n.forEach((function(e){"en"===e.lang&&""===r&&(r=e.value)})),i="",e.prev=10,e.next=13,K(c);case 13:return l=e.sent.data.result,s=[],l.forEach((function(e){s.push(G(e))})),e.next=18,Promise.all(s);case 18:e.sent.forEach((function(e){var t=e.data.result;i+=t+"\n"})),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(10),i="";case 25:xe({startDate:"",endDate:"",article:r,downloadableImageURL:i});case 26:case"end":return e.stop()}}),e,null,[[10,22]])})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(R.a)(N.a.mark((function e(t){var a,n,r,i,l,s,o,d,m;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("create"!==b){e.next=40;break}if("person"!==u){e.next=14;break}return j(!0),a={keyword:c,birthdate:ee.birthDate,birthplace:ee.birthplace,deathdate:ee.deathDate,deathplace:ee.deathplace,article:ee.article,pictures:ee.downloadableImageURL},e.prev=4,e.next=7,le(a);case 7:j(!1),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:e.next=38;break;case 14:if("place"!==u){e.next=27;break}return D(!0),n={keyword:c,latitude:re.latitude,longitude:re.longitude,article:re.article,pictures:re.downloadableImageURL},e.prev=17,e.next=20,ue(n);case 20:e.next=24;break;case 22:e.prev=22,e.t1=e.catch(17);case 24:D(!1),e.next=38;break;case 27:if("artefact"!==u){e.next=38;break}return W(!0),r={keyword:c,startdate:ge.startDate,enddate:ge.endDate,article:ge.article,pictures:ge.downloadableImageURL},e.prev=30,e.next=33,pe(r);case 33:e.next=37;break;case 35:e.prev=35,e.t2=e.catch(30);case 37:W(!1);case 38:e.next=118;break;case 40:if("overwrite"!==b){e.next=80;break}if("person"!==u){e.next=54;break}return j(!0),i={keyword:c,cridbid:t,birthdate:ee.birthDate,birthplace:ee.birthplace,deathdate:ee.deathDate,deathplace:ee.deathplace,article:ee.article,pictures:ee.downloadableImageURL},e.prev=44,e.next=47,se(i);case 47:j(!1),e.next=52;break;case 50:e.prev=50,e.t3=e.catch(44);case 52:e.next=78;break;case 54:if("place"!==u){e.next=67;break}return D(!0),l={keyword:c,cridbid:t,latitude:re.latitude,longitude:re.longitude,article:re.article,pictures:re.downloadableImageURL},e.prev=57,e.next=60,de(l);case 60:e.next=64;break;case 62:e.prev=62,e.t4=e.catch(57);case 64:D(!1),e.next=78;break;case 67:if("artefact"!==u){e.next=78;break}return W(!0),s={keyword:c,cridbid:t,startdate:ge.startDate,enddate:ge.endDate,article:ge.article,pictures:ge.pictures},e.prev=70,e.next=73,fe(s);case 73:e.next=77;break;case 75:e.prev=75,e.t5=e.catch(70);case 77:W(!1);case 78:e.next=118;break;case 80:if("merge"!==b){e.next=118;break}if("person"!==u){e.next=94;break}return j(!0),o={keyword:c,cridbid:t,birthdate:ee.birthDate,birthplace:ee.birthplace,deathdate:ee.deathDate,deathplace:ee.deathplace,article:ee.article,pictures:ee.downloadableImageURL},e.prev=84,e.next=87,oe(o);case 87:j(!1),e.next=92;break;case 90:e.prev=90,e.t6=e.catch(84);case 92:e.next=118;break;case 94:if("place"!==u){e.next=107;break}return D(!0),d={keyword:c,cridbid:t,latitude:re.latitude,longitude:re.longitude,article:re.article,pictures:re.downloadableImageURL},e.prev=97,e.next=100,me(d);case 100:e.next=104;break;case 102:e.prev=102,e.t7=e.catch(97);case 104:D(!1),e.next=118;break;case 107:if("artefact"!==u){e.next=118;break}return W(!0),m={keyword:c,cridbid:t,startdate:ge.startDate,enddate:ge.endDate,article:ge.article,pictures:ge.pictures},e.prev=110,e.next=113,be(m);case 113:e.next=117;break;case 115:e.prev=115,e.t8=e.catch(110);case 117:W(!1);case 118:case"end":return e.stop()}}),e,null,[[4,10],[17,22],[30,35],[44,50],[57,62],[70,75],[84,90],[97,102],[110,115]])})));return function(t){return e.apply(this,arguments)}}();"person"===u?e=r.a.createElement(Ge,{func:{saveForm:je,setSaveAction:v,setPersonForm:function(e,t){te(Object(A.a)(Object(A.a)({},ee),{},Object(s.a)({},e,t)))}},data:{keyword:c,person:ee,saveAction:b,personLoading:O},FormElementProps:lt}):"place"===u?e=r.a.createElement(et,{func:{saveForm:je,setSaveAction:v,setPlaceForm:function(e,t){ce(Object(A.a)(Object(A.a)({},re),{},Object(s.a)({},e,t)))}},data:{keyword:c,place:re,saveAction:b,placeLoading:P},FormElementProps:lt}):"artefact"===u&&(e=r.a.createElement(it,{func:{saveForm:je,setSaveAction:v,setArtefactForm:function(e,t){xe(Object(A.a)(Object(A.a)({},ge),{},Object(s.a)({},e,t)))}},data:{keyword:c,artefact:ge,saveAction:b,artefactLoading:T},FormElementProps:lt}));var ke=function(e){try{"person"===u?ye():"place"===u?we():"artefact"===u&&Oe()}catch(t){return void x(!0)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{container:!0,className:"px-1 py-3",spacing:5},r.a.createElement(z.a,{item:!0,xs:1,md:1}),r.a.createElement(z.a,{item:!0,xs:5,md:3,className:"pr-3"},r.a.createElement(_.a,{variant:"h6",className:"mb-8 pb-3",align:"left"},"Search"),r.a.createElement("form",{onSubmit:ke,className:"mb-4"},r.a.createElement(U.a,{fullWidth:!0,className:"mb-2",variant:"standard",value:c,onChange:function(e){E&&x(!1),i(e.target.value)},label:"Wikipedia name",error:E,helperText:E?"Can not find data.":""})),r.a.createElement(M.a,lt,r.a.createElement(V.a,{id:"recordType"},"Record type"),r.a.createElement(B.a,{label:"Record type",value:u,onChange:function(e){v("create"),d(e.target.value)}},r.a.createElement($.a,{value:"person"},"Person"),r.a.createElement($.a,{value:"place"},"Place"),r.a.createElement($.a,{value:"artefact"},"Artefact"))),r.a.createElement(z.a,{container:!0,align:"right"},r.a.createElement(z.a,{item:!0,xs:12,md:12},r.a.createElement(q.a,{variant:"outlined",color:"primary",size:"large",onClick:ke},"Go")))),r.a.createElement(z.a,{item:!0,xs:5,md:7},e),r.a.createElement(z.a,{item:!0,xs:1,md:1})))},ot=a(109),ut=a(405),dt=a(107),mt=a.n(dt),pt=a(108),ft=a.n(pt),bt=a(402),vt=["children","onClose"],ht=Object(De.a)(Fe.a)((function(e){var t=e.theme;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}})),gt=function(e){var t=e.children,a=e.onClose,n=Object(Pe.a)(e,vt);return r.a.createElement(Ae.a,Object.assign({sx:{m:0,p:2}},n),t,a?r.a.createElement(Ie.a,{"aria-label":"close",onClick:a,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}}},r.a.createElement($e.a,null)):null)},Et=function(e){var t=Object(n.useState)(""),a=Object(L.a)(t,2),c=a[0],i=a[1],l=Object(n.useState)(""),s=Object(L.a)(l,2),o=s[0],u=s[1],d=Object(n.useState)(""),m=Object(L.a)(d,2),p=m[0],f=m[1],b=Object(n.useState)(""),v=Object(L.a)(b,2),h=v[0],g=v[1],E=Object(n.useState)(""),x=Object(L.a)(E,2),y=x[0],w=x[1],O=Object(n.useState)(""),j=Object(L.a)(O,2),k=j[0],C=j[1],S=Object(n.useState)(null),P=Object(L.a)(S,2),D=P[0],F=P[1],A=Object(n.useState)(null),I=Object(L.a)(A,2),z=I[0],_=I[1],U=function(){e.setEditd(!1)},M=function(){var t=Object(R.a)(N.a.mark((function t(){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setEditd(!1),a={rowid:z,birthdate:c,deathdate:o,birthplace:p,deathplace:h,article:y,pictures:k},e.updateEvent(D,a),t.next=5,Ce(a,"person");case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){null!==e.selectedrow&&(i(e.selectedrow.birthdate),u(e.selectedrow.deathdate),f(e.selectedrow.birthplace),g(e.selectedrow.deathplace),w(e.selectedrow.article),C(e.selectedrow.pictures),F(e.selectedrow.id),_(e.selectedrow.rowid))}),[e.selectedrow]),r.a.createElement("div",null,r.a.createElement(ht,{onClose:U,"aria-labelledby":"customized-dialog-title",open:e.isOpen},r.a.createElement(gt,{id:"customized-dialog-title",onClose:U},"Edit Person"),r.a.createElement(Ne.a,{dividers:!0},r.a.createElement(Re.a,{container:!0,className:"px-1 py-3"},r.a.createElement(Re.a,{container:!0,spacing:2},r.a.createElement(Re.a,{item:!0,xs:6,md:6},r.a.createElement(bt.a,Object.assign({},e.FormElementProps,{label:"Birth Date",value:c,onChange:function(e){i(e.target.value)}}))),r.a.createElement(Re.a,{item:!0,xs:6,md:6},r.a.createElement(bt.a,Object.assign({},e.FormElementProps,{label:"Death Date",value:o,onChange:function(e){u(e.target.value)}})))),r.a.createElement(Re.a,{item:!0,xs:12,md:12},r.a.createElement(bt.a,Object.assign({},e.FormElementProps,{label:"Birth Place",value:p,onChange:function(e){f(e.target.value)}})),r.a.createElement(bt.a,Object.assign({},e.FormElementProps,{label:"Death Place",value:h,onChange:function(e){g(e.target.value)}})),r.a.createElement(bt.a,Object.assign({},e.FormElementProps,{label:"Article",multiline:!0,rows:8,value:y,onChange:function(e){w(e.target.value)}})),r.a.createElement(bt.a,Object.assign({},e.FormElementProps,{label:"Downloadable Image URL",multiline:!0,rows:8,value:k,onChange:function(e){C(e.target.value)}}))))),r.a.createElement(Me.a,null,r.a.createElement(Ve.a,{autoFocus:!0,onClick:M},"Save changes"))))},xt=function(){Object(p.b)()(k(1));var e=Object(n.useState)([]),t=Object(L.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(!1),l=Object(L.a)(i,2),s=l[0],o=l[1],u=Object(n.useState)(null),d=Object(L.a)(u,2),m=d[0],f=d[1],b=function(){var e=Object(R.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(a),t=[],a.forEach((function(e){"create"===e.saveaction?t.push(le(e)):"overwrite"===e.saveaction?t.push(se(e)):"merge"===e.saveaction&&t.push(oe(e))})),e.next=6,Promise.all(t);case 6:console.log("all saved"),e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(R.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,je("person");case 3:e.sent.data.results.forEach((function(e,t){c((function(a){return[].concat(Object(ie.a)(a),[{id:t+1,keyword:e.keyword,birthplace:e.birthplace,deathplace:e.deathplace,birthdate:e.birthdate,deathdate:e.deathdate,article:e.article,pictures:e.pictures,saveaction:e.saveaction,cridbid:e.cridbid,rowid:e.id}])}))})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),h=[{field:"id",headerName:"No",flex:1,sortable:!1,renderCell:function(e){return r.a.createElement("div",{style:{marginLeft:"10px"}},e.row.id)}},{field:"saveaction",headerName:"Save Action",flex:2,renderCell:function(e){var t;return"create"===e.row.saveaction?t=r.a.createElement(ut.a,{label:"create",size:"small"}):"overwrite"===e.row.saveaction?t=r.a.createElement(ut.a,{label:"overwrite",size:"small"}):"merge"===e.row.saveaction&&(t=r.a.createElement(ut.a,{label:"merge",size:"small"})),r.a.createElement(r.a.Fragment,null,t)}},{field:"keyword",headerName:"Keyword",flex:2},{field:"birthplace",headerName:"Birth Place",flex:2},{field:"deathplace",headerName:"Death Place",flex:2},{field:"birthdate",headerName:"Birth Date",flex:2,type:"date"},{field:"deathdate",headerName:"Death Date",flex:2,type:"date"},{field:"action",headerName:"Action",sortable:!1,flex:2,disableClickEventBubbling:!0,renderCell:function(e){var t=function(){var t=Object(R.a)(N.a.mark((function t(){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:f(e.row),o(!0);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a=function(){var t=Object(R.a)(N.a.mark((function t(){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Se(e.row.rowid,"person");case 2:c((function(t){var a=Object(ie.a)(t);return a.splice(t.findIndex((function(t){return t.rowid===e.row.rowid})),1),a}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{onClick:t},r.a.createElement(mt.a,{style:{fontSize:"22"}})),r.a.createElement(q.a,{onClick:a},r.a.createElement(ft.a,{style:{fontSize:"22"}})))}}];return Object(n.useEffect)((function(){v()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{container:!0,className:"px-1 py-3",spacing:5},r.a.createElement(z.a,{item:!0,xs:1,md:1}),r.a.createElement(z.a,{item:!0,xs:10,md:10},r.a.createElement("div",{className:"mb-4",style:{height:650,width:"100%",textAlign:"center"}},r.a.createElement(ot.a,{rows:a,columns:h,pageSize:10,rowsPerPageOptions:[10],isRowSelectable:function(){return!1}})),r.a.createElement(z.a,{item:!0,xs:12,md:12,align:"right"},r.a.createElement(q.a,{variant:"outlined",color:"primary",size:"large",onClick:b},"Save to CRIDB"))),r.a.createElement(z.a,{item:!0,xs:1,md:1})),r.a.createElement(Et,{isOpen:s,FormElementProps:{fullWidth:!0,variant:"standard",size:"medium",className:"mb-4"},selectedrow:m,setEditd:o,updateEvent:function(e,t){c((function(a){var n=Object(ie.a)(a);return n[e-1].birthdate=t.birthdate,n[e-1].deathdate=t.deathdate,n[e-1].birthplace=t.birthplace,n[e-1].deathplace=t.deathplace,n[e-1].article=t.article,n[e-1].pictures=t.pictures,n}))}}))},yt=["children","onClose"],wt=Object(De.a)(Fe.a)((function(e){var t=e.theme;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}})),Ot=function(e){var t=e.children,a=e.onClose,n=Object(Pe.a)(e,yt);return r.a.createElement(Ae.a,Object.assign({sx:{m:0,p:2}},n),t,a?r.a.createElement(Ie.a,{"aria-label":"close",onClick:a,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}}},r.a.createElement($e.a,null)):null)},jt=function(e){var t=Object(n.useState)(""),a=Object(L.a)(t,2),c=a[0],i=a[1],l=Object(n.useState)(""),s=Object(L.a)(l,2),o=s[0],u=s[1],d=Object(n.useState)(""),m=Object(L.a)(d,2),p=m[0],f=m[1],b=Object(n.useState)(""),v=Object(L.a)(b,2),h=v[0],g=v[1],E=Object(n.useState)(null),x=Object(L.a)(E,2),y=x[0],w=x[1],O=Object(n.useState)(null),j=Object(L.a)(O,2),k=j[0],C=j[1],S=function(){e.setEditd(!1)},P=function(){var t=Object(R.a)(N.a.mark((function t(){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setEditd(!1),a={rowid:k,latitude:c,longitude:o,article:p,pictures:h},e.updateEvent(y,a),t.next=5,Ce(a,"place");case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){null!==e.selectedrow&&(i(e.selectedrow.latitude),u(e.selectedrow.longitude),f(e.selectedrow.article),g(e.selectedrow.pictures),w(e.selectedrow.id),C(e.selectedrow.rowid))}),[e.selectedrow]),r.a.createElement("div",null,r.a.createElement(wt,{onClose:S,"aria-labelledby":"customized-dialog-title",open:e.isOpen},r.a.createElement(Ot,{id:"customized-dialog-title",onClose:S},"Edit Person"),r.a.createElement(Ne.a,{dividers:!0},r.a.createElement(Re.a,{container:!0,className:"px-1 py-3"},r.a.createElement(Re.a,{container:!0,spacing:2},r.a.createElement(Re.a,{item:!0,xs:6,md:6},r.a.createElement(bt.a,Object.assign({},e.FormElementProps,{label:"Latitude",value:c,onChange:function(e){i(e.target.value)}}))),r.a.createElement(Re.a,{item:!0,xs:6,md:6},r.a.createElement(bt.a,Object.assign({},e.FormElementProps,{label:"Longitude",value:o,onChange:function(e){u(e.target.value)}})))),r.a.createElement(Re.a,{item:!0,xs:12,md:12},r.a.createElement(bt.a,Object.assign({},e.FormElementProps,{label:"Article",multiline:!0,rows:8,value:p,onChange:function(e){f(e.target.value)}})),r.a.createElement(bt.a,Object.assign({},e.FormElementProps,{label:"Downloadable Image URL",multiline:!0,rows:8,value:h,onChange:function(e){g(e.target.value)}}))))),r.a.createElement(Me.a,null,r.a.createElement(Ve.a,{autoFocus:!0,onClick:P},"Save changes"))))},kt=function(){Object(p.b)()(k(2));var e=Object(n.useState)([]),t=Object(L.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(!1),l=Object(L.a)(i,2),s=l[0],o=l[1],u=Object(n.useState)(null),d=Object(L.a)(u,2),m=d[0],f=d[1],b=function(){var e=Object(R.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(a),t=[],a.forEach((function(e){"create"===e.saveaction?t.push(ue(e)):"overwrite"===e.saveaction?t.push(de(e)):"merge"===e.saveaction&&t.push(me(e))})),e.next=6,Promise.all(t);case 6:console.log("all saved"),e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(R.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,je("place");case 3:e.sent.data.results.forEach((function(e,t){c((function(a){return[].concat(Object(ie.a)(a),[{id:t+1,keyword:e.keyword,latitude:e.latitude,longitude:e.longitude,article:e.article,pictures:e.pictures,saveaction:e.saveaction,cridbid:e.cridbid,rowid:e.id}])}))})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),h=[{field:"id",headerName:"No",flex:1,sortable:!1,renderCell:function(e){return r.a.createElement("div",{style:{marginLeft:"10px"}},e.row.id)}},{field:"saveaction",headerName:"Save Action",flex:2,renderCell:function(e){var t;return"create"===e.row.saveaction?t=r.a.createElement(ut.a,{label:"create",size:"small"}):"overwrite"===e.row.saveaction?t=r.a.createElement(ut.a,{label:"overwrite",size:"small"}):"merge"===e.row.saveaction&&(t=r.a.createElement(ut.a,{label:"merge",size:"small"})),r.a.createElement(r.a.Fragment,null,t)}},{field:"keyword",headerName:"Keyword",flex:2},{field:"latitude",headerName:"Latitude",flex:2},{field:"longitude",headerName:"Longitude",flex:2},{field:"action",headerName:"Action",sortable:!1,flex:2,disableClickEventBubbling:!0,renderCell:function(e){var t=function(){var t=Object(R.a)(N.a.mark((function t(){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:f(e.row),o(!0);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a=function(){var t=Object(R.a)(N.a.mark((function t(){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Se(e.row.rowid,"place");case 2:c((function(t){var a=Object(ie.a)(t);return a.splice(t.findIndex((function(t){return t.rowid===e.row.rowid})),1),a}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{onClick:t},r.a.createElement(mt.a,{style:{fontSize:"22"}})),r.a.createElement(q.a,{onClick:a},r.a.createElement(ft.a,{style:{fontSize:"22"}})))}}];return Object(n.useEffect)((function(){v()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{container:!0,className:"px-1 py-3",spacing:5},r.a.createElement(z.a,{item:!0,xs:1,md:1}),r.a.createElement(z.a,{item:!0,xs:10,md:10},r.a.createElement("div",{className:"mb-4",style:{height:650,width:"100%",textAlign:"center"}},r.a.createElement(ot.a,{rows:a,columns:h,pageSize:10,rowsPerPageOptions:[10],isRowSelectable:function(){return!1}})),r.a.createElement(z.a,{item:!0,xs:12,md:12,align:"right"},r.a.createElement(q.a,{variant:"outlined",color:"primary",size:"large",onClick:b},"Save to CRIDB"))),r.a.createElement(z.a,{item:!0,xs:1,md:1})),r.a.createElement(jt,{isOpen:s,FormElementProps:{fullWidth:!0,variant:"standard",size:"medium",className:"mb-4"},selectedrow:m,setEditd:o,updateEvent:function(e,t){c((function(a){var n=Object(ie.a)(a);return n[e-1].latitude=t.latitude,n[e-1].longitude=t.longitude,n[e-1].article=t.article,n[e-1].pictures=t.pictures,n}))}}))},Ct=["children","onClose"],St=Object(De.a)(Fe.a)((function(e){var t=e.theme;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}})),Pt=function(e){var t=e.children,a=e.onClose,n=Object(Pe.a)(e,Ct);return r.a.createElement(Ae.a,Object.assign({sx:{m:0,p:2}},n),t,a?r.a.createElement(Ie.a,{"aria-label":"close",onClick:a,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}}},r.a.createElement($e.a,null)):null)},Dt=function(e){var t=Object(n.useState)(""),a=Object(L.a)(t,2),c=a[0],i=a[1],l=Object(n.useState)(""),s=Object(L.a)(l,2),o=s[0],u=s[1],d=Object(n.useState)(""),m=Object(L.a)(d,2),p=m[0],f=m[1],b=Object(n.useState)(""),v=Object(L.a)(b,2),h=v[0],g=v[1],E=Object(n.useState)(null),x=Object(L.a)(E,2),y=x[0],w=x[1],O=Object(n.useState)(null),j=Object(L.a)(O,2),k=j[0],C=j[1],S=function(){e.setEditd(!1)},P=function(){var t=Object(R.a)(N.a.mark((function t(){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setEditd(!1),a={rowid:k,startdate:c,enddate:o,article:p,pictures:h},e.updateEvent(y,a),t.next=5,Ce(a,"artefact");case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){null!==e.selectedrow&&(i(e.selectedrow.startdate),u(e.selectedrow.enddate),f(e.selectedrow.article),g(e.selectedrow.pictures),w(e.selectedrow.id),C(e.selectedrow.rowid))}),[e.selectedrow]),r.a.createElement("div",null,r.a.createElement(St,{onClose:S,"aria-labelledby":"customized-dialog-title",open:e.isOpen},r.a.createElement(Pt,{id:"customized-dialog-title",onClose:S},"Edit Person"),r.a.createElement(Ne.a,{dividers:!0},r.a.createElement(Re.a,{container:!0,className:"px-1 py-3"},r.a.createElement(Re.a,{container:!0,spacing:2},r.a.createElement(Re.a,{item:!0,xs:6,md:6},r.a.createElement(bt.a,Object.assign({},e.FormElementProps,{label:"Start Date",value:c,onChange:function(e){i(e.target.value)}}))),r.a.createElement(Re.a,{item:!0,xs:6,md:6},r.a.createElement(bt.a,Object.assign({},e.FormElementProps,{label:"End Date",value:o,onChange:function(e){u(e.target.value)}})))),r.a.createElement(Re.a,{item:!0,xs:12,md:12},r.a.createElement(bt.a,Object.assign({},e.FormElementProps,{label:"Article",multiline:!0,rows:8,value:p,onChange:function(e){f(e.target.value)}})),r.a.createElement(bt.a,Object.assign({},e.FormElementProps,{label:"Downloadable Image URL",multiline:!0,rows:8,value:h,onChange:function(e){g(e.target.value)}}))))),r.a.createElement(Me.a,null,r.a.createElement(Ve.a,{autoFocus:!0,onClick:P},"Save changes"))))},Ft=function(){Object(p.b)()(k(3));var e=Object(n.useState)([]),t=Object(L.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(!1),l=Object(L.a)(i,2),s=l[0],o=l[1],u=Object(n.useState)(null),d=Object(L.a)(u,2),m=d[0],f=d[1],b=function(){var e=Object(R.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(a),t=[],a.forEach((function(e){"create"===e.saveaction?t.push(pe(e)):"overwrite"===e.saveaction?t.push(fe(e)):"merge"===e.saveaction&&t.push(be(e))})),e.next=6,Promise.all(t);case 6:console.log("all saved"),e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(R.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,je("artefact");case 3:e.sent.data.results.forEach((function(e,t){c((function(a){return[].concat(Object(ie.a)(a),[{id:t+1,keyword:e.keyword,startdate:e.startdate,enddate:e.enddate,article:e.article,pictures:e.pictures,saveaction:e.saveaction,cridbid:e.cridbid,rowid:e.id}])}))})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),h=[{field:"id",headerName:"No",flex:1,sortable:!1,renderCell:function(e){return r.a.createElement("div",{style:{marginLeft:"10px"}},e.row.id)}},{field:"saveaction",headerName:"Save Action",flex:2,renderCell:function(e){var t;return"create"===e.row.saveaction?t=r.a.createElement(ut.a,{label:"create",size:"small"}):"overwrite"===e.row.saveaction?t=r.a.createElement(ut.a,{label:"overwrite",size:"small"}):"merge"===e.row.saveaction&&(t=r.a.createElement(ut.a,{label:"merge",size:"small"})),r.a.createElement(r.a.Fragment,null,t)}},{field:"keyword",headerName:"Keyword",flex:2},{field:"startdate",headerName:"Start Date",flex:2,type:"date"},{field:"enddate",headerName:"End Date",flex:2,type:"date"},{field:"action",headerName:"Action",sortable:!1,flex:2,disableClickEventBubbling:!0,renderCell:function(e){var t=function(){var t=Object(R.a)(N.a.mark((function t(){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:f(e.row),o(!0);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a=function(){var t=Object(R.a)(N.a.mark((function t(){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Se(e.row.rowid,"artefact");case 2:c((function(t){var a=Object(ie.a)(t);return a.splice(t.findIndex((function(t){return t.rowid===e.row.rowid})),1),a}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{onClick:t},r.a.createElement(mt.a,{style:{fontSize:"22"}})),r.a.createElement(q.a,{onClick:a},r.a.createElement(ft.a,{style:{fontSize:"22"}})))}}];return Object(n.useEffect)((function(){v()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{container:!0,className:"px-1 py-3",spacing:5},r.a.createElement(z.a,{item:!0,xs:1,md:1}),r.a.createElement(z.a,{item:!0,xs:10,md:10},r.a.createElement("div",{className:"mb-4",style:{height:650,width:"100%",textAlign:"center"}},r.a.createElement(ot.a,{rows:a,columns:h,pageSize:10,rowsPerPageOptions:[10],isRowSelectable:function(){return!1}})),r.a.createElement(z.a,{item:!0,xs:12,md:12,align:"right"},r.a.createElement(q.a,{variant:"outlined",color:"primary",size:"large",onClick:b},"Save to CRIDB"))),r.a.createElement(z.a,{item:!0,xs:1,md:1})),r.a.createElement(Dt,{isOpen:s,FormElementProps:{fullWidth:!0,variant:"standard",size:"medium",className:"mb-4"},selectedrow:m,setEditd:o,updateEvent:function(e,t){c((function(a){var n=Object(ie.a)(a);return n[e-1].startdate=t.startdate,n[e-1].enddate=t.enddate,n[e-1].article=t.article,n[e-1].pictures=t.pictures,n}))}}))},At=a(414),It=a(394),Nt=a(427),Rt=a(428),Lt=a(126),zt=a(429),_t=a(423),Ut=a(401),Mt=a(395),Vt=a(396),Bt=a(417),$t=a(214),qt=a.n($t),Tt=a(213),Wt=a.n(Tt),Jt=a(148),Kt=a.n(Jt),Gt=a(215),Ht=a.n(Gt),Yt=a(216),Qt=a.n(Yt),Xt=Object(d.a)((function(e){return{link:{textDecoration:"none",color:"#343434"}}})),Zt=function(e){var t=Object(n.useState)(!0),a=Object(L.a)(t,2),c=a[0],i=a[1],o=Xt(),u=Object(p.b)(),d=function(e,t){u(k(t))},m=Object(p.c)(j).listItem;return r.a.createElement(At.a,{sx:{display:"flex"}},r.a.createElement(It.a,null),r.a.createElement(Nt.a,{position:"fixed",sx:{zIndex:function(e){return e.zIndex.drawer+1}},style:{boxShadow:"0px 2px 4px -1px rgb(0 0 0 / 20%), 0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 1px 0px rgb(0 0 0 / 12%)",backgroundColor:"rgb(102 136 229)",color:"#ffffff"}},r.a.createElement(Rt.a,null,r.a.createElement(Lt.a,{style:{width:"100%",textAlign:"center"},variant:"h6",noWrap:!0,component:"div"},"CRIDB Web Automator"))),r.a.createElement(zt.a,{variant:"permanent",sx:Object(s.a)({width:240,flexShrink:0},"& .MuiDrawer-paper",{width:240,boxSizing:"border-box"})},r.a.createElement(Rt.a,null),r.a.createElement(At.a,{sx:{overflow:"auto"}},r.a.createElement(_t.a,null,r.a.createElement(l.b,{to:"/",className:o.link},r.a.createElement(Ut.a,{button:!0,selected:0===m,onClick:function(e){return d(0,0)}},r.a.createElement(Mt.a,null,r.a.createElement(Wt.a,null)),r.a.createElement(Vt.a,{primary:"Home"}))),r.a.createElement(Ut.a,{button:!0,onClick:function(){i(!c)}},r.a.createElement(Mt.a,null,r.a.createElement(qt.a,null)),r.a.createElement(Vt.a,{primary:"Save List"}),c?r.a.createElement(Ht.a,null):r.a.createElement(Qt.a,null)),r.a.createElement(Bt.a,{in:c,timeout:"auto",unmountOnExit:!0},r.a.createElement(_t.a,null,r.a.createElement(l.b,{to:"/save-list/person",className:o.link},r.a.createElement(Ut.a,{button:!0,sx:{pl:4},selected:1===m,onClick:function(e){return d(0,1)}},r.a.createElement(Mt.a,null,r.a.createElement(Kt.a,null)),r.a.createElement(Vt.a,{primary:"Person"}))),r.a.createElement(l.b,{to:"/save-list/place",className:o.link},r.a.createElement(Ut.a,{button:!0,sx:{pl:4},selected:2===m,onClick:function(e){return d(0,2)}},r.a.createElement(Mt.a,null,r.a.createElement(Kt.a,null)),r.a.createElement(Vt.a,{primary:"Place"}))),r.a.createElement(l.b,{to:"/save-list/artefact",className:o.link},r.a.createElement(Ut.a,{button:!0,sx:{pl:4},selected:3===m,onClick:function(e){return d(0,3)}},r.a.createElement(Mt.a,null,r.a.createElement(Kt.a,null)),r.a.createElement(Vt.a,{primary:"Artefact"})))))))),r.a.createElement(At.a,{className:"mt-3",component:"main",sx:{flexGrow:1,p:3},style:{width:"100%"}},e.children))},ea=a(406),ta=a(415),aa=a(217),na=a.n(aa),ra=a(416),ca=a(398),ia=a(218),la=a(411),sa=function(){var e=Object(R.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.post("/auth/login",t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.message,inValid:!0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),oa={fullWidth:!0,variant:"standard",size:"medium",className:"mb-4"};function ua(e){return r.a.createElement(Lt.a,Object.assign({variant:"body2",color:"text.secondary",align:"center"},e),"Copyright \xa9 ",r.a.createElement(ta.a,{color:"inherit",href:"http://172.104.60.204:5000/"},"CRIDB Automator")," ",(new Date).getFullYear(),".")}var da=Object(ia.a)();function ma(e){var t=e.setToken,a=Object(n.useState)(),c=Object(L.a)(a,2),i=c[0],l=c[1],s=Object(n.useState)(),o=Object(L.a)(s,2),u=o[0],d=o[1],m=Object(n.useState)(!0),p=Object(L.a)(m,2),f=p[0],b=p[1],v=function(){var e=Object(R.a)(N.a.mark((function e(a){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),b(!0),e.next=4,sa({username:i,password:u});case 4:n=e.sent,"success"===(r=n.data).result?t(r):b(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(la.a,{theme:da},r.a.createElement(ra.a,{component:"main",maxWidth:"xs"},r.a.createElement(It.a,null),r.a.createElement(At.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"}},f?r.a.createElement(r.a.Fragment,null):r.a.createElement(ca.a,{severity:"error"},"Username or Password is incorrect. Please try again!"),r.a.createElement("br",null),r.a.createElement(ea.a,{sx:{m:1,bgcolor:"secondary.main"}},r.a.createElement(na.a,null)),r.a.createElement(Lt.a,{component:"h1",variant:"h5"},"CRIDB Automator"),r.a.createElement(At.a,{component:"form",onSubmit:v,noValidate:!0,sx:{mt:1}},r.a.createElement(bt.a,Object.assign({},oa,{margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",onChange:function(e){return l(e.target.value)},autoFocus:!0})),r.a.createElement(bt.a,Object.assign({},oa,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return d(e.target.value)}})),r.a.createElement(Ve.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Sign In"))),r.a.createElement(ua,{sx:{mt:8,mb:4}})))}var pa=Object(u.b)({palette:{primary:{main:F.a[600]},secondary:{main:F.a[300]}}}),fa=Object(d.a)((function(e){return{main:Object(s.a)({marginTop:e.spacing(3),padding:e.spacing(3)},e.breakpoints.down("xs"),{padding:e.spacing(2)})}})),ba=function(){var e=fa(),t=Object(b.h)(D),a=function(){var e=Object(n.useState)(function(){var e=sessionStorage.getItem("token"),t=JSON.parse(e);return null===t||void 0===t?void 0:t.token}()),t=Object(L.a)(e,2),a=t[0],r=t[1];return{setToken:function(e){sessionStorage.setItem("token",JSON.stringify(e)),r(e.token)},token:a}}(),c=a.token,i=a.setToken;return c?r.a.createElement(n.Fragment,null,r.a.createElement(m.a,{theme:pa},r.a.createElement(p.a,{store:D},r.a.createElement(f.a,{loading:null,persistor:t},r.a.createElement("main",{className:e.main},r.a.createElement(Zt,null,r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/",component:st}),r.a.createElement(o.b,{exact:!0,path:"/save-list/person",component:xt}),r.a.createElement(o.b,{exact:!0,path:"/save-list/place",component:kt}),r.a.createElement(o.b,{exact:!0,path:"/save-list/artefact",component:Ft}),r.a.createElement(o.a,{to:"/"})))))))):r.a.createElement(ma,{setToken:i})};a(292),a(293);i.a.render(r.a.createElement(l.a,null,r.a.createElement(ba,null)),document.getElementById("root"))}},[[256,1,2]]]);
//# sourceMappingURL=main.82fba25c.chunk.js.map